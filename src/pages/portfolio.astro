---
// src/pages/portfolio.astro
import BaseLayout from '../layouts/BaseLayout.astro';
import { projects } from '../data/projects';
---

<BaseLayout
  title="Portfolio — AndreaFusion"
  description="Proyectos de diseño y desarrollo web. Webs para clínicas, negocios locales, marcas personales y más."
>
  <main class="portfolio-page">

    <!-- ── HERO DE PÁGINA ── -->
    <header class="port-hero">
      <div class="port-hero__inner">
        <p class="section-num">Portfolio</p>
        <h1 class="port-hero__title">
          <span>Webs que se</span>
          <em>sienten vivas.</em>
        </h1>
        <p class="port-hero__sub">
          Proyectos de diseño y desarrollo donde la estética
          y la funcionalidad tienen el mismo peso.
        </p>
      </div>
      <!-- Decoración -->
      <div class="port-hero__deco" aria-hidden="true"></div>
    </header>

    <!-- ── GRID DE PROYECTOS ── -->
    <section class="port-grid-section" aria-label="Todos los proyectos">
      <div class="port-grid-section__inner">

        <!-- Filtro por tipo — sin JS, solo anclas visuales por ahora -->
        <div class="port-filters" aria-label="Categorías">
          <span class="port-filter is-active">Todos</span>
          <span class="port-filter">Salud</span>
          <span class="port-filter">Belleza</span>
          <span class="port-filter">Marca personal</span>
        </div>

        <!-- Grid -->
        <ul class="port-grid" role="list">
          {projects.map((p, i) => (
            <li class="port-card-wrap">
              <a
                href={p.url}
                target="_blank"
                rel="noopener noreferrer"
                class="port-card"
                aria-label={`Ver proyecto ${p.titulo} (abre en nueva pestaña)`}
                style={`--card-color: ${p.color}; --card-accent: ${p.colorAccent};`}
              >
                <!-- Visual placeholder -->
                <div class="port-card__visual">
                  <!-- Número índice decorativo -->
                  <span class="port-card__index" aria-hidden="true">
                    {String(i + 1).padStart(2, '0')}
                  </span>

                  <!-- Blob de color de la marca -->
                  <div class="port-card__blob" aria-hidden="true"></div>

                  <!-- Info encima de la imagen al hover -->
                  <div class="port-card__overlay">
                    <span class="port-card__cta">Ver proyecto ↗</span>
                  </div>

                  <!-- Año + tipo flotantes -->
                  <div class="port-card__badge-wrap">
                    <span class="port-card__badge">{p.tipo}</span>
                  </div>
                </div>

                <!-- Info debajo -->
                <div class="port-card__body">
                  <div class="port-card__top">
                    <h2 class="port-card__titulo">{p.titulo}</h2>
                    <span class="port-card__año">{p.año}</span>
                  </div>
                  <p class="port-card__desc">{p.descripcion}</p>
                  <ul class="port-card__tags" aria-label="Stack y disciplinas">
                    {p.tags.map((tag) => (
                      <li class="port-card__tag">{tag}</li>
                    ))}
                  </ul>
                </div>
              </a>
            </li>
          ))}
        </ul>

        <!-- CTA al final de la página -->
        <div class="port-cta">
          <p class="port-cta__text">
            ¿Tienes un proyecto en mente?
          </p>
          <a href="/contacto" class="port-cta__btn">Hablemos →</a>
        </div>

      </div>
    </section>

  </main>
</BaseLayout>

<style>
  /* ── Página base ── */
  .portfolio-page {
    background: #fff;
    padding-top: 80px; /* espacio para el nav fijo */
  }

  /* ════════════════════════════════
     HERO DE PÁGINA
  ════════════════════════════════ */
  .port-hero {
    position: relative;
    background: var(--color-bg-hero);
    overflow: hidden;
    padding: 5rem 1.5rem 6rem;
  }

  .port-hero__inner {
    position: relative;
    z-index: 2;
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .port-hero__title {
    display: flex;
    flex-direction: column;
    font-family: var(--font-display);
    font-weight: 900;
    font-size: clamp(3rem, 10vw, 8rem);
    line-height: 0.95;
    letter-spacing: -0.03em;
    color: var(--color-text-hero);
  }

  .port-hero__title em {
    font-style: italic;
    color: var(--color-accent-lime);
  }

  .port-hero__sub {
    font-family: var(--font-body);
    font-size: clamp(1rem, 2.5vw, 1.15rem);
    line-height: 1.7;
    color: rgba(245, 238, 230, 0.65);
    max-width: 44ch;
  }

  /* Blob decorativo de fondo */
  .port-hero__deco {
    position: absolute;
    top: -6rem;
    right: -6rem;
    width: clamp(250px, 55vw, 500px);
    height: clamp(250px, 55vw, 500px);
    border-radius: 50%;
    background: radial-gradient(
      circle,
      rgba(200, 241, 53, 0.1) 0%,
      rgba(245, 184, 208, 0.08) 50%,
      transparent 70%
    );
    pointer-events: none;
    z-index: 1;
  }

  @media (min-width: 768px) {
    .port-hero { padding: 7rem 4rem 8rem; }
  }

  /* ════════════════════════════════
     SECCIÓN GRID
  ════════════════════════════════ */
  .port-grid-section { background: #fff; }

  .port-grid-section__inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 4rem 1.5rem 6rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }

  @media (min-width: 768px) {
    .port-grid-section__inner { padding: 5rem 4rem 7rem; }
  }

  /* ── Filtros ── */
  .port-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .port-filter {
    font-family: var(--font-body);
    font-size: 0.8rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    color: var(--color-text-mid);
    border: 1.5px solid rgba(90, 58, 122, 0.2);
    border-radius: 9999px;
    padding: 0.35em 1em;
    cursor: default;
    transition: border-color 0.2s, color 0.2s, background 0.2s;
  }

  .port-filter.is-active {
    background: var(--color-bg-light);
    border-color: var(--color-text-mid);
    color: var(--color-text-dark);
  }

  /* ── Grid ── */
  .port-grid {
    list-style: none;
    display: grid;
    grid-template-columns: 1fr;
    gap: 2.5rem;
  }

  @media (min-width: 600px) {
    .port-grid { grid-template-columns: 1fr 1fr; gap: 2rem; }
  }

  @media (min-width: 1024px) {
    .port-grid { grid-template-columns: 1fr 1fr; gap: 2.5rem; }
  }

  /* ════════════════════════════════
     TARJETA DE PROYECTO
  ════════════════════════════════ */
  .port-card-wrap { display: contents; }

  .port-card {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    text-decoration: none;
    cursor: pointer;
  }

  /* ── Visual (placeholder colorido) ── */
  .port-card__visual {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 10;
    background-color: var(--card-color, #EDE4F5);
    border-radius: 1.75rem;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .port-card:hover .port-card__visual {
    transform: translateY(-4px);
  }

  /* Blob central de color de acento */
  .port-card__blob {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse 70% 60% at 55% 45%,
      color-mix(in srgb, var(--card-accent, #7A3A9A) 22%, transparent),
      transparent 70%
    );
    pointer-events: none;
  }

  /* Índice decorativo */
  .port-card__index {
    position: absolute;
    top: 1.2rem;
    left: 1.5rem;
    font-family: var(--font-display);
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.2em;
    color: var(--card-accent, #7A3A9A);
    opacity: 0.5;
    z-index: 2;
  }

  /* Badge tipo en esquina inferior izquierda */
  .port-card__badge-wrap {
    position: absolute;
    bottom: 1.25rem;
    left: 1.5rem;
    z-index: 2;
  }

  .port-card__badge {
    font-family: var(--font-body);
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--card-accent, #7A3A9A);
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border-radius: 9999px;
    padding: 0.3em 0.85em;
  }

  /* Overlay de hover */
  .port-card__overlay {
    position: absolute;
    inset: 0;
    background: rgba(26, 10, 46, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.25s ease;
    border-radius: inherit;
    z-index: 3;
  }

  .port-card:hover .port-card__overlay,
  .port-card:focus-visible .port-card__overlay {
    opacity: 1;
  }

  .port-card__cta {
    font-family: var(--font-body);
    font-size: 1rem;
    font-weight: 700;
    color: var(--color-accent-lime);
    letter-spacing: 0.04em;
  }

  /* ── Body ── */
  .port-card__body {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    padding: 0 0.25rem;
  }

  .port-card__top {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 0.75rem;
  }

  .port-card__titulo {
    font-family: var(--font-display);
    font-size: clamp(1.25rem, 2.5vw, 1.6rem);
    font-weight: 700;
    color: var(--color-text-dark);
    line-height: 1.15;
    transition: color 0.2s ease;
  }

  .port-card:hover .port-card__titulo {
    color: var(--color-text-mid);
  }

  .port-card__año {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    color: var(--color-accent-pink);
    flex-shrink: 0;
  }

  .port-card__desc {
    font-family: var(--font-body);
    font-size: clamp(0.9rem, 1.8vw, 1rem);
    line-height: 1.65;
    color: var(--color-text-mid);
    max-width: 52ch;
  }

  /* Tags */
  .port-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
    list-style: none;
  }

  .port-card__tag {
    font-family: var(--font-body);
    font-size: 0.72rem;
    font-weight: 600;
    color: var(--color-text-mid);
    background: var(--color-bg-light);
    border-radius: 9999px;
    padding: 0.25em 0.75em;
  }

  /* ════════════════════════════════
     CTA FINAL
  ════════════════════════════════ */
  .port-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.25rem;
    padding: 3rem 0 1rem;
    text-align: center;
  }

  .port-cta__text {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 900;
    font-style: italic;
    color: var(--color-text-dark);
    letter-spacing: -0.02em;
  }

  .port-cta__btn {
    display: inline-flex;
    padding: 0.85em 2.2em;
    background: var(--color-bg-hero);
    color: var(--color-accent-lime);
    font-family: var(--font-body);
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    border-radius: 9999px;
    transition: transform 0.18s ease, box-shadow 0.18s ease;
  }

  .port-cta__btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 28px rgba(61, 26, 92, 0.25);
  }
</style>
</BaseLayout>